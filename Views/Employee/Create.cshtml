@model KuaforYonetim.Models.Employee

<div class="container py-5">
    <!-- Başlık -->
    <h1 class="text-center mb-5 display-5 fw-bold text-primary">Yeni Çalışan Ekle</h1>
    <p class="text-center text-secondary mb-4">
        Yeni bir çalışan eklemek için aşağıdaki formu doldurun.
    </p>

    <!-- Form -->
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <form asp-action="Create" method="post" class="p-4 bg-light rounded shadow">
                <!-- Ad Soyad -->
                <div class="form-group mb-3">
                    <label for="Name" class="form-label fw-bold">Ad Soyad</label>
                    <input type="text" id="Name" name="Name" class="form-control form-control-lg" placeholder="Ad Soyad" required />
                </div>

                <!-- Görev -->
                <div class="form-group mb-3">
                    <label for="Position" class="form-label fw-bold">Görev</label>
                    <input type="text" id="Position" name="Position" class="form-control form-control-lg" placeholder="Görev" required />
                </div>

                <!-- Telefon -->
                <div class="form-group mb-3">
                    <label for="Phone" class="form-label fw-bold">Telefon</label>
                    <input type="text" id="Phone" name="Phone" class="form-control form-control-lg" placeholder="Telefon" />
                </div>

                <!-- Email -->
                <div class="form-group mb-3">
                    <label for="Email" class="form-label fw-bold">Email</label>
                    <input type="email" id="Email" name="Email" class="form-control form-control-lg" placeholder="Email" />
                </div>

                <!-- Salon Adı -->
                <div class="form-group mb-3">
                    <label for="Saloon" class="form-label fw-bold">Salon Adı</label>
                    <input type="text" id="Saloon" name="Saloon" class="form-control form-control-lg" placeholder="Salon Adı" />
                </div>

                <!-- Çalışma Gün ve Saatleri -->
                <div class="form-group mb-4">
                    <label class="form-label fw-bold">Çalışma Gün ve Saatleri</label>
                    <div id="availabilityContainer">
                        <div class="row align-items-center mb-2">
                           <div class="form-group mb-4">
    <label for="Day" class="form-label fw-bold">Gün Seçiniz</label>
    <select id="Day" name="Day" class="form-select" required>
                                    @functions {
                                        public string GetTurkishDayName(DayOfWeek day)
                                        {
                                            return day switch
                                            {
                                                DayOfWeek.Monday => "Pazartesi",
                                                DayOfWeek.Tuesday => "Salı",
                                                DayOfWeek.Wednesday => "Çarşamba",
                                                DayOfWeek.Thursday => "Perşembe",
                                                DayOfWeek.Friday => "Cuma",
                                                DayOfWeek.Saturday => "Cumartesi",
                                                DayOfWeek.Sunday => "Pazar",
                                                _ => "Bilinmiyor"
                                            };
                                        }
                                    }

        <option value="">Bir gün seçiniz...</option>
        @foreach (var day in Enum.GetValues(typeof(DayOfWeek)))
        {
            <option value="@day">@GetTurkishDayName((DayOfWeek)day)</option>
        }
    </select>


                            </div>
                            <div class="col-md-3">
                                <input type="time" name="Availability[0].StartTime" class="form-control" required />
                            </div>
                            <div class="col-md-3">
                                <input type="time" name="Availability[0].EndTime" class="form-control" required />
                            </div>
                            <div class="col-md-2 text-center">
                                <button type="button" class="btn btn-danger remove-row">Sil</button>
                            </div>
                        </div>
                    </div>
                    <button type="button" id="addAvailability" class="btn btn-success mt-3">+ Yeni Saat Ekleyin</button>
                </div>

                <!-- Kaydet Butonu -->
                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary btn-lg px-5">Kaydet</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.getElementById("addAvailability").addEventListener("click", function () {
        const container = document.getElementById("availabilityContainer");
        const index = container.children.length;
        const row = `
            <div class="row align-items-center mb-2">
                <div class="col-md-4">
                    <select name="Availability[${index}].Day" class="form-select" required>
                        <option value="">Gün Seçiniz</option>
    @foreach (var day in Enum.GetValues(typeof(DayOfWeek)))
    {
                                <option value="@day">@day</option>
    }
                    </select>
                </div>
                <div class="col-md-3">
                    <input type="time" name="Availability[${index}].StartTime" class="form-control" required />
                </div>
                <div class="col-md-3">
                    <input type="time" name="Availability[${index}].EndTime" class="form-control" required />
                </div>
                <div class="col-md-2 text-center">
                    <button type="button" class="btn btn-danger remove-row">Sil</button>
                </div>
            </div>
        `;
        container.insertAdjacentHTML("beforeend", row);
    });

    document.addEventListener("click", function (e) {
        if (e.target && e.target.classList.contains("remove-row")) {
            e.target.closest(".row").remove();
        }
    });
</script>
